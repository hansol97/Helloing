<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="memberMapper">
	
	<resultMap id="memberResultSet" type="member">
		<result column="MEM_NO"			property="memNo" />
		<result column="MEM_ID" 		property="memId" />
		<result column="MEM_PWD" 		property="memPwd" />
		<result column="MEM_NAME" 		property="memName" />
		<result column="EMAIL" 			property="email" />
		<result column="PHONE" 			property="phone" />
		<result column="STATUS" 		property="status" />
		<result column="MEM_ENROLLDATE" property="memEnrollDate" />
		<result column="REPORT_COUNT" 	property="reportCount" />
	</resultMap>

	<select id="loginMember" parameterType="member" resultMap="memberResultSet">
		select
				mem_no,
				mem_id,
				mem_pwd,
				mem_name,
				email,
				phone,
				status,
				mem_enrolldate,
				report_count
		 from
		 		member
		where
				mem_id = #{memId}
		  and
		  		(status = 'Y' or status = 'A')
	</select>
	
	<insert id="insertMember" parameterType="member">
		insert
		  into
		  		member
		  		(
		  		mem_no,
		  		mem_id,
		  		mem_pwd,
		  		mem_name,
		  		email,
		  		phone
		  		)
		values
				(
				seq_memNo.nextval,
				#{ memId },
				#{ memPwd },
				#{ memName },
				#{ email },
				#{ phone }
				)
	</insert>	
	
	
	
	
	
	
	
	<!-- 여기부터 혜진 -->
	<select id="checkPwd" parameterType="member" resultType="string">
	SELECT 
			MEM_PWD
	FROM
		MEMBER
	WHERE 
		MEM_ID = #{ memId }
	</select>
	
	
</mapper>
